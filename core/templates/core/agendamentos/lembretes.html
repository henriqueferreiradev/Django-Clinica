{% extends 'core/base.html' %}
{% load static %}

{% block title %}Checklist de Lembretes - Ponto de Equilíbrio{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/css/agenda/lembretes.css' %}">
<link rel="stylesheet" href="{% static 'core/css/tema.css' %}">


{% endblock %}

{% block topbar_title %}Checklist de Lembretes{% endblock %}

{% block content %}

 
    <div class="content">

        <!-- Informações de data e resumo -->
        <div class="date-summary">
            <div class="date-info">
                <div class="date-title">Pacientes agendados para:</div>
                <div class="tomorrow-date" id="tomorrowDate">Carregando data...</div>
            </div>
            <div class="summary-box">
                <div class="summary-item total-patients">
                    <div class="summary-value" id="totalPatients">0</div>
                    <div class="summary-label">Total</div>
                </div>
                <div class="summary-item pending-patients">
                    <div class="summary-value" id="pendingPatients">0</div>
                    <div class="summary-label">Pendentes</div>
                </div>
                <div class="summary-item completed-patients">
                    <div class="summary-value" id="completedPatients">0</div>
                    <div class="summary-label">Concluídos</div>
                </div>
            </div>
        </div>

        <!-- Lista de pacientes -->
        <div class="patients-list" id="patientsList">
            <!-- Os pacientes serão inseridos aqui via JavaScript -->
        </div>

        <!-- Mensagem de lista vazia -->
        <div class="empty-state" id="emptyState" style="display: none;">
            <i class="fas fa-calendar-check"></i>
            <h3>Nenhum paciente agendado para amanhã</h3>
            <p>Não há consultas agendadas para o dia seguinte. O checklist será atualizado automaticamente amanhã.</p>
        </div>

        <!-- Resumo final -->
        <div class="footer-summary">
            <div class="summary-message" id="summaryMessage">
                Verifique todos os pacientes pendentes antes de finalizar o dia.
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
            </div>
            <div class="progress-text" id="progressText">0% concluído</div>
        </div>
    </div>

<div class="modal-overlay show" id="modalLembrete" style="display:none;">
  <div class="modal-content">
    <div class="modal-header"  >
    <div class="modal-header-text">
      <h3>Envie a mensagem abaixo</h3>
      <p>Clique na mensagem para copiar.</p>
      </div>
      <div class="close-modal" onclick="closeReminderModal()">
        <i class="fas fa-times"></i>
      </div>
    </div>

    <div  onclick="copiarTextoMensagem(this)" class="modal-body">
      <p id="mensagemLembrete" class="mensagem-lembrete"></p>
    </div>

    <div class="modal-footer">
      <button class="mark-all-read" onclick="confirmSendReminder()">
        Confirmar envio
      </button>
    </div>
  </div>
</div>



{% include "core/partials/alertas.html" %}
{% endblock %}

{% block scripts %}
<script src="{% static '/core/js/agenda/agLembreteBase.js' %}"></script>

 
{% endblock %}