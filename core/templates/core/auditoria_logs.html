{% extends 'core/base.html' %}

{% load static %}
{% block title %}Auditoria - Ponto de Equilíbrio{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'core/css/auditoria_logs.css' %}">
<link rel="stylesheet" href="{% static 'core/css/tema.css' %}">
{% endblock %}
<span class="text">{% block topbar_title %}Log de ações{% endblock %}</span>
{% block content %}
<div class="content">
 
    {% include "core/partials/filtros/filtro_auditoria.html" %}

    <table>
    <thead>
        <tr>
            <th>Data/Hora</th>
            <th>Usuário</th>
            <th>Ação</th>
            <th>Módulo</th>
            <th>ID</th>
            <th>Descrição</th>
        </tr>
    </thead>
    <tbody>
        {% for log in logs %}
        <tr>
            <td>{{ log.data_hora|date:"d/m/Y H:i" }}</td>
            <td>{{ log.usuario }}</td>
            <td>                    <span class="badge 
                {% if log.acao == 'Criação' %} badge-success 
                {% elif log.acao == 'Edição' %} badge-warning 
                {% elif log.acao == 'Inativação' %} badge-danger
                {% else %} badge-default {% endif %}">
                {{ log.acao }}
            </span></td>
            <td>{{ log.modelo }}</td>
            <td>{{ log.objeto_id }}</td>
            <td>{{ log.descricao }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="6">Nenhuma ação registrada.</td></tr>
        {% endfor %}
    </tbody>
    </table>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'core/js/base/abrirFiltro.js' %}"></script>
{% endblock %}

 